(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{0:function(t,s){},1:function(t,s){},2:function(t,s){},3:function(t,s){},"6qtd":function(t,s,e){"use strict";var r=e("w/kw");e.n(r).a},SUao:function(t,s,e){"use strict";e.r(s);var r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("arc-remote",{ref:"remote"},[e("div",{staticClass:"portrait-hint"},[e("h2",[t._v("Please rotate your Phone")]),t._v(" "),e("p",[t._v("\n            This control interface is based on old-school gaming controllers and is only usable in landscape\n            mode.\n        ")])]),t._v(" "),e("div",{staticClass:"column left"},[e("div",{ref:"cursorBoundary",staticClass:"interaction-area"},[e("div",{staticClass:"cursor-wrapper"},[e("span",{staticClass:"cursor-root"}),t._v(" "),e("span",{staticClass:"label"},[t._v("\n                    Touch and drag to navigate.\n                ")])]),t._v(" "),e("div",{staticClass:"cursor-wrapper"},[e("span",{ref:"cursor",staticClass:"cursor",class:{animated:0===t.cursorX&&0===t.cursorY},style:t.cursorTransform})])])]),t._v(" "),e("div",{ref:"buttonBase",staticClass:"column right"},[e("div",{staticClass:"interaction-area right-click-area",on:{click:function(s){return t.publishMouseEvent("click",2)},touchEnd:function(s){return t.publishMouseEvent("mouseup",2)},touchstart:function(s){return t.publishMouseEvent("mousedown",2)}}},[e("span",{staticClass:"label"},[t._v("\n                Secondary Click\n            ")])]),t._v(" "),e("div",{staticClass:"interaction-area left-click-area",on:{click:function(s){return t.publishMouseEvent("click",0)},touchEnd:function(s){return t.publishMouseEvent("mouseup",0)},touchstart:function(s){return t.publishMouseEvent("mousedown",0)}}},[e("span",{staticClass:"label"},[t._v("\n                Main Click\n            ")])])])])};r._withStripped=!0;var n={name:"arc-smartphone",components:{ArcRemote:e("Sohx").a},data:()=>({currentStart:null,currentHold:null,cursorX:0,cursorY:0,keys:new Set}),async mounted(){await this.$nextTick(),this.$refs.cursor.addEventListener("touchstart",this.startMovement,{passive:!1}),this.$refs.cursor.addEventListener("touchmove",this.updateMovement,{passive:!1}),this.$refs.cursor.addEventListener("touchend",this.stopMovement,{passive:!1})},beforeDestroy(){this.$refs.cursor.removeEventListener("touchstart",this.startMovement),this.$refs.cursor.removeEventListener("touchmove",this.updateMovement),this.$refs.cursor.removeEventListener("touchend",this.stopMovement)},methods:{startMovement(){navigator.vibrate&&navigator.vibrate([50]);const t=this.$refs.cursor.getBoundingClientRect(),s=this.$refs.cursorBoundary.getBoundingClientRect();this.currentStart={clientX:t.left+t.width/2,clientY:t.top+t.height/2},this.currentBound={width:s.width/2,height:s.height/2}},updateMovement(t){t.preventDefault(),this.currentHold=t.touches[0],this.cursorX=this.absMin(this.currentHold.clientX-this.currentStart.clientX,this.currentBound.width),this.cursorY=this.absMin(this.currentHold.clientY-this.currentStart.clientY,this.currentBound.height);const s=Math.sqrt(Math.pow(this.cursorX,2)+Math.pow(this.cursorY,2));if(s>3){const t=-.25*Math.PI+this.mapRadians(this.cursorY,this.cursorX),e=s/Math.min(this.currentBound.height,this.currentBound.width);this.updateJoystick(-t,e)}},mapRadians(t,s){const e=Math.atan2(t,s);return e>=0?e:e<0?e+2*Math.PI:void 0},stopMovement(t){this.cursorX=0,this.cursorY=0,this.currentStart=null,this.currentHold=null,this.updateJoystick(0,0)},updateJoystick(t,s){const e=new CustomEvent("stickmove",{detail:{radians:t,force:s}});this.$refs.remote.publishInput(e)},publishMouseEvent(t,s){"mousedown"===t&&(navigator.vibrate&&navigator.vibrate(0===s?100:50),null!==this.currentStart&&this.publishMouseEvent("click",s));const e=new CustomEvent(t);e.button=s,this.$refs.remote.publishInput(e)},absMin:(t,s)=>(t<0||s<0?-1:1)*Math.min(Math.abs(t),Math.abs(s))},computed:{cursorTransform(){return`transform: translate(${this.cursorX}px, ${this.cursorY}px)`}}},i=(e("6qtd"),e("gcv6"),e("KHd+")),o=Object(i.a)(n,r,[],!1,null,"9427b0d8",null);o.options.__file="node_modules/arc-vue-remotes/src/components/ArcSmartphone.vue";s.default=o.exports},gcv6:function(t,s,e){"use strict";var r=e("tXa8");e.n(r).a},tXa8:function(t,s,e){},"w/kw":function(t,s,e){}}]);